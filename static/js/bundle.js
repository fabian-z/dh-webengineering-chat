!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t,e,n){return parseInt(t.substr(e,n),16)}function r(t){return(t|=0)<0?"00":t<16?"0"+t.toString(16):t<256?t.toString(16):"ff"}function i(t,e,n){return r(255*((n=n<0?n+6:n>6?n-6:n)<1?t+(e-t)*n:n<3?e:n<4?t+(e-t)*(4-n):t))}function s(t){if(/^#[0-9a-f]{3,8}$/i.test(t)){let e;if(t.length<6){const n=t[1],o=t[2],r=t[3],i=t[4]||"";e="#"+n+n+o+o+r+r+i+i}return(7==t.length||t.length>8)&&(e=t),e}}function u(t,e,n){const o=[.55,.5,.5,.46,.6,.55,.55][6*t+.5|0];return function(t,e,n){let o;if(0==e){const t=r(255*n);o=t+t+t}else{const r=n<=.5?n*(e+1):n+e-n*e,s=2*n-r;o=i(s,r,6*t+2)+i(s,r,6*t)+i(s,r,6*t-2)}return"#"+o}(t,e,n=n<.5?n*o*2:o+(n-.5)*(1-o)*2)}n.r(e);const c="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};var l={};class a{constructor(t,e){this.x=t,this.y=e}}class d{constructor(t,e,n,o){this.p=t,this.q=e,this.G=n,this.S=o}H(t,e,n,o){const r=this.p+this.G,i=this.q+this.G,s=this.S;return 1===s?new a(r-e-(o||0),this.q+t):2===s?new a(r-t-(n||0),i-e-(o||0)):3===s?new a(this.p+e,i-t-(n||0)):new a(this.p+t,this.q+e)}}const f=new d(0,0,0,0);class h{constructor(t){this.I=t,this.t=f}g(t,e){const n=e?-2:2,o=this.t,r=[];for(let i=e?t.length-2:0;i<t.length&&i>=0;i+=n)r.push(o.H(t[i],t[i+1]));this.I.g(r)}h(t,e,n,o){const r=this.t.H(t,e,n,n);this.I.h(r,n,o)}i(t,e,n,o,r){this.g([t,e,t+n,e,t+n,e+o,t,e+o],r)}j(t,e,n,o,r,i){const s=[t+n,e,t+n,e+o,t,e+o,t,e];s.splice((r||0)%4*2,2),this.g(s,i)}J(t,e,n,o,r){this.g([t+n/2,e,t+n,e+o/2,t+n/2,e+o,t,e+o/2],r)}}function m(t,e,n,o){let r,i,s,u,c,l;(t%=14)?1==t?(s=0|.5*n,u=0|.8*n,e.j(n-s,0,s,u,2)):2==t?(s=0|n/3,e.i(s,s,n-s,n-s)):3==t?(c=.1*n,l=n<6?1:n<8?2:0|.25*n,c=c>1?0|c:c>.5?1:c,e.i(l,l,n-c-l,n-c-l)):4==t?(i=0|.15*n,s=0|.5*n,e.h(n-s-i,n-s-i,s)):5==t?(c=.1*n,l=4*c,l>3&&(l|=0),e.i(0,0,n,n),e.g([l,l,n-c,l,l+(n-l-c)/2,n-c],!0)):6==t?e.g([0,0,n,0,n,.7*n,.4*n,.4*n,.7*n,n,0,n]):7==t?e.j(n/2,n/2,n/2,n/2,3):8==t?(e.i(0,0,n,n/2),e.i(0,n/2,n/2,n/2),e.j(n/2,n/2,n/2,n/2,1)):9==t?(c=.14*n,l=n<4?1:n<6?2:0|.35*n,c=n<8?c:0|c,e.i(0,0,n,n),e.i(l,l,n-l-c,n-l-c,!0)):10==t?(c=.12*n,l=3*c,e.i(0,0,n,n),e.h(l,l,n-c-l,!0)):11==t?e.j(n/2,n/2,n/2,n/2,3):12==t?(i=.25*n,e.i(0,0,n,n),e.J(i,i,n-i,n-i,!0)):!o&&(i=.4*n,s=1.2*n,e.h(i,i,s)):(r=.42*n,e.g([0,0,n,0,n,n-2*r,n-r,n,0,n]))}function g(t,e,n){let o;(t%=4)?1==t?e.j(0,n/2,n,n/2,0):2==t?e.J(0,0,n,n):(o=n/6,e.h(o,o,n-2*o)):e.j(0,0,n,n,0)}function p(t,e,n){(n=function(t,e){const n="object"==typeof t&&t||l.config||c.jdenticon_config||{},o=n.lightness||{},r=n.saturation||{},i="color"in r?r.color:r,u=r.grayscale,a=n.backColor,d=n.padding;function f(t,e){let n=o[t];return n&&n.length>1||(n=e),function(t){return(t=n[0]+t*(n[1]-n[0]))<0?0:t>1?1:t}}return{P:function(t){const e=n.hues;let o;return e&&e.length>0&&(o=e[0|.999*t*e.length]),"number"==typeof o?(o/360%1+1)%1:t},n:"number"==typeof i?i:.5,C:"number"==typeof u?u:0,o:f("color",[.4,.8]),D:f("grayscale",[.3,.9]),F:s(a),R:"number"==typeof t?t:"number"==typeof d?d:e}}(n,.08)).F&&t.m(n.F);let r=t.k;const i=.5+r*n.R|0;r-=2*i;const a=new h(t),f=0|r/4,p=0|i+r/2-2*f,y=0|i+r/2-2*f;function b(n,r,i,s,u){const c=o(e,i,1);let l=s?o(e,s,1):0;t.K(v[w[n]]);for(let t=0;t<u.length;t++)a.t=new d(p+u[t][0]*f,y+u[t][1]*f,f,l++%4),r(c,a,f,t);t.L()}const v=function(t,e){return[u(t=e.P(t),e.C,e.D(0)),u(t,e.n,e.o(.5)),u(t,e.C,e.D(1)),u(t,e.n,e.o(1)),u(t,e.n,e.o(0))]}(o(e,-7)/268435455,n),w=[];let E;function x(t){if(t.indexOf(E)>=0)for(let e=0;e<t.length;e++)if(w.indexOf(t[e])>=0)return!0}for(let t=0;t<3;t++)E=o(e,8+t,1)%v.length,(x([0,4])||x([2,3]))&&(E=1),w.push(E);b(0,g,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),b(1,g,4,5,[[0,0],[3,0],[3,3],[0,3]]),b(2,m,1,null,[[1,1],[2,1],[2,2],[1,2]]),t.finish()}function y(t){return/^[0-9a-f]{11,}$/i.test(t)&&t}function b(t){return function(t){var e,n=0,o=0,r=encodeURI(t)+"%80",i=[],s=[],u=1732584193,c=4023233417,l=~u,a=~c,d=3285377520,f=[u,c,l,a,d],h=0,m="";function g(t,e){return t<<e|t>>>32-e}for(;n<r.length;o++)i[o>>2]=i[o>>2]|("%"==r[n]?parseInt(r.substring(n+1,n+=3),16):r.charCodeAt(n++))<<8*(3-(3&o));for(i[(e=16*(1+(o+7>>6)))-1]=8*o-8;h<e;h+=16){for(n=0;n<80;n++)o=g(u,5)+d+(n<20?1518500249+(c&l^~c&a):n<40?1859775393+(c^l^a):n<60?2400959708+(c&l^c&a^l&a):3395469782+(c^l^a))+(s[n]=n<16?0|i[h+n]:g(s[n-3]^s[n-8]^s[n-14]^s[n-16],1)),d=a,a=l,l=g(c,30),c=u,u=o;f[0]=u=f[0]+u|0,f[1]=c=f[1]+c|0,f[2]=l=f[2]+l|0,f[3]=a=f[3]+a|0,f[4]=d=f[4]+d|0}for(n=0;n<40;n++)m+=(f[n>>3]>>>4*(7-(7&n))&15).toString(16);return m}(null==t?"":""+t)}function v(t){return(10*t+.5|0)/10}class w{constructor(){this.u=""}g(t){let e="";for(let n=0;n<t.length;n++)e+=(n?"L":"M")+v(t[n].x)+" "+v(t[n].y);this.u+=e+"Z"}h(t,e,n){const o=n?0:1,r=v(e/2),i=v(e),s="a"+r+","+r+" 0 1,"+o+" ";this.u+="M"+v(t.x)+" "+v(t.y+e/2)+s+i+",0"+s+-i+",0"}}class E{constructor(t){this.v,this.A={},this.M=t,this.k=t.k}m(t){const e=/^(#......)(..)?/.exec(t),n=e[2]?o(e[2],0)/255:1;this.M.m(e[1],n)}K(t){this.v=this.A[t]||(this.A[t]=new w)}L(){}g(t){this.v.g(t)}h(t,e,n){this.v.h(t,e,n)}finish(){const t=this.A;for(let e in t)t.hasOwnProperty(e)&&this.M.N(e,t[e].u)}}class x{constructor(t){this.k=t,this.B='<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+t+'" viewBox="0 0 '+t+" "+t+'">'}m(t,e){e&&(this.B+='<rect width="100%" height="100%" fill="'+t+'" opacity="'+e.toFixed(2)+'"/>')}N(t,e){this.B+='<path fill="'+t+'" d="'+e+'"/>'}toString(){return this.B+"</svg>"}}function B(t,e,n){const o=new x(e);return p(new E(o),y(t)||b(t),n),o.toString()}"undefined"!=typeof document&&document.querySelectorAll.bind(document);let I,S="Anonymous";function j(t){let e=document.createElement("div"),n=document.getElementById("messages");e.textContent=t,e.className="message",n.appendChild(e)}document.addEventListener("DOMContentLoaded",(function(){I=new WebSocket(("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/ws"),I.onopen=function(){j("Connected to chatroom"),document.getElementById("submit-icon").style.color="#50913F",document.getElementById("submit").style.cursor="pointer"},I.onclose=function(){j("Disconnected from chatroom"),document.getElementById("submit-icon").style.color="darkgrey",document.getElementById("submit").style.cursor="not-allowed",I=null},I.onmessage=function(t){let e=JSON.parse(t.data);switch(e.action){case"init":document.getElementById("username").value=e.user.username,document.getElementById("usericon").innerHTML=B(e.user.userid,100),function(t){let e=document.createElement("div");for(let n of t){let t=document.createElement("div");t.className="user-connected",t.dataset.userid=n.userid;let o=document.createElement("div");o.className="user-image",o.innerHTML=B(n.userid,100);let r=document.createElement("div");r.className="user-name",r.innerHTML=n.username,t.appendChild(o),t.appendChild(r),e.appendChild(t)}document.getElementById("userlist").innerHTML=e.innerHTML}(e.connected);break;case"broadcast":j(`${e.sender.username}: ${e.text}`);break;case"systemBroadcast":j(""+e.text);break;case"updateUserlist":default:console.log("Unhandled message action:",e)}},I.onerror=function(t){j("ERROR: "+t.data)}}),!1),document.getElementById("submit").addEventListener("click",(function(){let t=document.getElementById("message-entry");if(!I||0===t.value.length)return!1;let e={action:"broadcast",text:t.value.trim()};return I.send(JSON.stringify(e)),t.value="",!1}),!1),document.getElementById("username").addEventListener("focusout",(function(){let t=document.getElementById("username");if(S!==t.value){S=t.value;let e={action:"usernameChange",username:t.value};I.send(JSON.stringify(e))}}),!1)}]);